package com.akka.router;

import akka.actor.UntypedActor;

public class StatsWorker extends UntypedActor {

	@Override
	public void onReceive(Object arg0) throws Exception {
		  Map<String, Integer> cache = new HashMap<String, Integer>();
		  
		  @Override
		  public void onReceive(Object message) {
		    if (message instanceof String) {
		      String word = (String) message;
		      Integer length = cache.get(word);
		      if (length == null) {
		        length = word.length();
		        cache.put(word, length);
		      }
		      getSender().tell(length, getSelf());
		 
		    } else {
		      unhandled(message);
		    }
		  }
	}

}
